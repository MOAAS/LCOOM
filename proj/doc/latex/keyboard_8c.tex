\hypertarget{keyboard_8c}{}\section{keyboard.\+c File Reference}
\label{keyboard_8c}\index{keyboard.\+c@{keyboard.\+c}}
{\ttfamily \#include $<$lcom/lcf.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include \char`\"{}keyboard.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}i8042.\+h\char`\"{}}\newline
Include dependency graph for keyboard.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{keyboard_8c_a9bc31b400509cb2b5446bf67da08dc6f}{F\+U\+N\+C\+T\+I\+O\+N\+\_\+\+F\+A\+IL}}~1
\item 
\#define \mbox{\hyperlink{keyboard_8c_ae439253209dae53dda28e13d3184a461}{K\+B\+C\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR}}~2
\item 
\#define \mbox{\hyperlink{keyboard_8c_a34599ca5c55cb9be3b235d7422aff45c}{K\+B\+C\+\_\+\+T\+I\+M\+E\+O\+UT}}~3
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{group__keyboard_ga8eee4d0a15beada731a514481b5ad4bf}{keyboard\+\_\+subscribe\+\_\+int}} (uint8\+\_\+t $\ast$bit\+\_\+no)
\begin{DoxyCompactList}\small\item\em Subscribes and enables keyboard interrupts, in exclusive mode. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_gac95aea27a5e91b363b876fed881f368f}{keyboard\+\_\+unsubscribe\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Unsubscribes keyboard interrupts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_ga6d0b21990c1bc497f6986367d485af52}{keyboard\+\_\+disable\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Disables keyboard interrupts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_gaeb94e69ca92a37bc52ec381aa3ea5c70}{keyboard\+\_\+enable\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Enables keyboard interrupts. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__keyboard_ga3c87ba94c8bab09066553ba6d89c07c8}{kbc\+\_\+clear\+\_\+mouse\+\_\+\+O\+U\+T\+\_\+\+B\+UF}} ()
\begin{DoxyCompactList}\small\item\em While O\+U\+T\+\_\+\+B\+UF is \char`\"{}full\char`\"{} with a mouse byte, discards its contents. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__keyboard_gaf87a23192c923b92891892df893963b7}{kbc\+\_\+clear\+\_\+kbd\+\_\+\+O\+U\+T\+\_\+\+B\+UF}} ()
\begin{DoxyCompactList}\small\item\em While O\+U\+T\+\_\+\+B\+UF is \char`\"{}full\char`\"{} with a keyboard byte, discards its contents. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_ga870b444bcf2b470834d2027dc30bb46e}{kbc\+\_\+read\+\_\+\+O\+U\+T\+\_\+\+B\+UF}} (uint8\+\_\+t $\ast$value)
\begin{DoxyCompactList}\small\item\em Reads keyboard\textquotesingle{}s output buffer. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_ga54c1dc87fd33a133b8c1eaf08bc51a99}{kbc\+\_\+get\+\_\+status}} (uint8\+\_\+t $\ast$status\+\_\+byte)
\begin{DoxyCompactList}\small\item\em Gets the status byte from the K\+BC status register. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_ga203a4c111fbe4b4fe6946a77bebbc171}{kbc\+\_\+poll\+\_\+out\+\_\+buf}} (uint8\+\_\+t $\ast$byte)
\begin{DoxyCompactList}\small\item\em Polls the out buffer until it has something, in which case reads it. Returns after several failed attempts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_ga26b9ea576b6e214c7748979568e97c7c}{kbc\+\_\+poll\+\_\+in\+\_\+buf}} (uint8\+\_\+t byte)
\begin{DoxyCompactList}\small\item\em Polls the input buffer until it is empty, in which case puts byte inside it. Returns after several failed attempts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_gabed7ca5d360dbf3737554bd242d48fc1}{kbc\+\_\+set\+\_\+default}} ()
\begin{DoxyCompactList}\small\item\em Sets the K\+BC to its default mode by writing to the command byte. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_ga3ab732a7b5d332ab6af5f82456c3528a}{kbc\+\_\+get\+\_\+cmd\+\_\+byte}} (uint8\+\_\+t $\ast$cmd\+\_\+byte)
\begin{DoxyCompactList}\small\item\em Gets the command byte from the K\+BC. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_gab18be1772193037a82088027884ef917}{kbc\+\_\+write\+\_\+cmd\+\_\+byte}} (uint8\+\_\+t cmd\+\_\+byte)
\begin{DoxyCompactList}\small\item\em Writes the command byte to the kbc. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_gaa1dcd642657d7da0376e36cda809b0e3}{kbc\+\_\+write\+\_\+cmd}} (uint8\+\_\+t cmd)
\begin{DoxyCompactList}\small\item\em Issues a command to the kbc. \end{DoxyCompactList}\item 
void() \mbox{\hyperlink{keyboard_8c_aea970a154161a35f6894898a092ed70a}{kbc\+\_\+ih}} ()
\item 
int \mbox{\hyperlink{group__keyboard_ga71424d3c0eee59d712469efc0f137d60}{kbc\+\_\+enable\+\_\+poll}} ()
\begin{DoxyCompactList}\small\item\em Keeps polling the kbc to until there\textquotesingle{}s something in the Output Buffer. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__keyboard_ga32e63cb280df583f193cbc065b0b327e}{kbd\+\_\+assemble\+\_\+scancode}} ()
\begin{DoxyCompactList}\small\item\em Assembles a scancode received by the IH. May also use the previous scancode if it\textquotesingle{}s a 2-\/byte scancode. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__keyboard_gaa7f7b14e556eec81eb7b4eae1d63ec85}{kbc\+\_\+get\+\_\+out\+\_\+buf}} (uint8\+\_\+t $\ast$content)
\begin{DoxyCompactList}\small\item\em Gets the contents from the output buffer, if they exist. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__keyboard_ga8348b9b1e74639dd7edf7e939ea2e1d1}{kbc\+\_\+has\+\_\+communication\+\_\+err}} (uint8\+\_\+t status\+\_\+byte)
\begin{DoxyCompactList}\small\item\em Checks if there was any communication error between Keyboard and K\+BC. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__keyboard_ga686f8d95e71a43edaddda1db8b78caa4}{util\+\_\+delay}} (uint32\+\_\+t ms)
\begin{DoxyCompactList}\small\item\em Waits. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__keyboard_ga710a06495d4ad2c8afba84634ec89984}{kbc\+\_\+\+I\+B\+F\+\_\+is\+\_\+full}} (uint8\+\_\+t status)
\begin{DoxyCompactList}\small\item\em Checks if the Input buffer is full. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__keyboard_ga4e0b2a8300752760d8c7f10fcb55b67a}{kbc\+\_\+\+O\+B\+F\+\_\+is\+\_\+full}} (uint8\+\_\+t status)
\begin{DoxyCompactList}\small\item\em Checks if the Output buffer is full. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__keyboard_ga559aca235f02f3322fe738495efdd0e0}{kbc\+\_\+\+O\+B\+F\+\_\+is\+\_\+mouse\+\_\+data}} (uint8\+\_\+t status)
\begin{DoxyCompactList}\small\item\em Checks if the O\+BF contains mouse byte. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{keyboard_8c_a302ad6946d3fafa84df3d343d44034a4}{hook\+\_\+id\+\_\+keyboard}} = \mbox{\hyperlink{group__keyboard_ga09e63afbc5d0ab2780bd560fba326d58}{I\+R\+Q\+\_\+\+S\+E\+T\+\_\+\+K\+E\+Y\+B\+O\+A\+RD}}
\item 
uint16\+\_\+t \mbox{\hyperlink{keyboard_8c_ad02fcede5beda1de5da3bc015d0b8927}{scancode}} = 0
\item 
static uint8\+\_\+t \mbox{\hyperlink{keyboard_8c_a053e78e0472a0fafdac407bf1f7d70cc}{scancode\+\_\+byte}} = 0
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{keyboard_8c_a9bc31b400509cb2b5446bf67da08dc6f}\label{keyboard_8c_a9bc31b400509cb2b5446bf67da08dc6f}} 
\index{keyboard.\+c@{keyboard.\+c}!F\+U\+N\+C\+T\+I\+O\+N\+\_\+\+F\+A\+IL@{F\+U\+N\+C\+T\+I\+O\+N\+\_\+\+F\+A\+IL}}
\index{F\+U\+N\+C\+T\+I\+O\+N\+\_\+\+F\+A\+IL@{F\+U\+N\+C\+T\+I\+O\+N\+\_\+\+F\+A\+IL}!keyboard.\+c@{keyboard.\+c}}
\subsubsection{\texorpdfstring{F\+U\+N\+C\+T\+I\+O\+N\+\_\+\+F\+A\+IL}{FUNCTION\_FAIL}}
{\footnotesize\ttfamily \#define F\+U\+N\+C\+T\+I\+O\+N\+\_\+\+F\+A\+IL~1}

\mbox{\Hypertarget{keyboard_8c_ae439253209dae53dda28e13d3184a461}\label{keyboard_8c_ae439253209dae53dda28e13d3184a461}} 
\index{keyboard.\+c@{keyboard.\+c}!K\+B\+C\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR@{K\+B\+C\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR}}
\index{K\+B\+C\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR@{K\+B\+C\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR}!keyboard.\+c@{keyboard.\+c}}
\subsubsection{\texorpdfstring{K\+B\+C\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR}{KBC\_COMM\_ERROR}}
{\footnotesize\ttfamily \#define K\+B\+C\+\_\+\+C\+O\+M\+M\+\_\+\+E\+R\+R\+OR~2}

\mbox{\Hypertarget{keyboard_8c_a34599ca5c55cb9be3b235d7422aff45c}\label{keyboard_8c_a34599ca5c55cb9be3b235d7422aff45c}} 
\index{keyboard.\+c@{keyboard.\+c}!K\+B\+C\+\_\+\+T\+I\+M\+E\+O\+UT@{K\+B\+C\+\_\+\+T\+I\+M\+E\+O\+UT}}
\index{K\+B\+C\+\_\+\+T\+I\+M\+E\+O\+UT@{K\+B\+C\+\_\+\+T\+I\+M\+E\+O\+UT}!keyboard.\+c@{keyboard.\+c}}
\subsubsection{\texorpdfstring{K\+B\+C\+\_\+\+T\+I\+M\+E\+O\+UT}{KBC\_TIMEOUT}}
{\footnotesize\ttfamily \#define K\+B\+C\+\_\+\+T\+I\+M\+E\+O\+UT~3}



\subsection{Function Documentation}
\mbox{\Hypertarget{keyboard_8c_aea970a154161a35f6894898a092ed70a}\label{keyboard_8c_aea970a154161a35f6894898a092ed70a}} 
\index{keyboard.\+c@{keyboard.\+c}!kbc\+\_\+ih@{kbc\+\_\+ih}}
\index{kbc\+\_\+ih@{kbc\+\_\+ih}!keyboard.\+c@{keyboard.\+c}}
\subsubsection{\texorpdfstring{kbc\+\_\+ih()}{kbc\_ih()}}
{\footnotesize\ttfamily void() kbc\+\_\+ih (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8c_aea970a154161a35f6894898a092ed70a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8c_aea970a154161a35f6894898a092ed70a_icgraph}
\end{center}
\end{figure}


\subsection{Variable Documentation}
\mbox{\Hypertarget{keyboard_8c_a302ad6946d3fafa84df3d343d44034a4}\label{keyboard_8c_a302ad6946d3fafa84df3d343d44034a4}} 
\index{keyboard.\+c@{keyboard.\+c}!hook\+\_\+id\+\_\+keyboard@{hook\+\_\+id\+\_\+keyboard}}
\index{hook\+\_\+id\+\_\+keyboard@{hook\+\_\+id\+\_\+keyboard}!keyboard.\+c@{keyboard.\+c}}
\subsubsection{\texorpdfstring{hook\+\_\+id\+\_\+keyboard}{hook\_id\_keyboard}}
{\footnotesize\ttfamily int hook\+\_\+id\+\_\+keyboard = \mbox{\hyperlink{group__keyboard_ga09e63afbc5d0ab2780bd560fba326d58}{I\+R\+Q\+\_\+\+S\+E\+T\+\_\+\+K\+E\+Y\+B\+O\+A\+RD}}\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{keyboard_8c_ad02fcede5beda1de5da3bc015d0b8927}\label{keyboard_8c_ad02fcede5beda1de5da3bc015d0b8927}} 
\index{keyboard.\+c@{keyboard.\+c}!scancode@{scancode}}
\index{scancode@{scancode}!keyboard.\+c@{keyboard.\+c}}
\subsubsection{\texorpdfstring{scancode}{scancode}}
{\footnotesize\ttfamily uint16\+\_\+t scancode = 0}

\mbox{\Hypertarget{keyboard_8c_a053e78e0472a0fafdac407bf1f7d70cc}\label{keyboard_8c_a053e78e0472a0fafdac407bf1f7d70cc}} 
\index{keyboard.\+c@{keyboard.\+c}!scancode\+\_\+byte@{scancode\+\_\+byte}}
\index{scancode\+\_\+byte@{scancode\+\_\+byte}!keyboard.\+c@{keyboard.\+c}}
\subsubsection{\texorpdfstring{scancode\+\_\+byte}{scancode\_byte}}
{\footnotesize\ttfamily uint8\+\_\+t scancode\+\_\+byte = 0\hspace{0.3cm}{\ttfamily [static]}}

