\hypertarget{group__uart__protocol}{}\section{uart\+\_\+protocol}
\label{group__uart__protocol}\index{uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}}
\begin{DoxyCompactList}\small\item\em Represents a Message that is send through the serial port. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__uart__protocol_ga155260c75bcf6f1b9ff00fac4ad1cc48}{M\+S\+G\+\_\+\+P\+R\+E\+F\+IX}}~137
\item 
\#define \mbox{\hyperlink{group__uart__protocol_ga115462df9e5caa853c7d8f33f89cbba6}{M\+S\+G\+\_\+\+T\+R\+A\+I\+L\+ER}}~138
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}} $\ast$ \mbox{\hyperlink{group__uart__protocol_ga86ef94bd59a3b296a7c80badb2bea00a}{create\+\_\+message}} (uint8\+\_\+t size, uint8\+\_\+t type, uint8\+\_\+t $\ast$bytes)
\begin{DoxyCompactList}\small\item\em Creates a message object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__uart__protocol_ga8bef6ea297e99b49a0dc05fc16f1a8f5}{destroy\+\_\+message}} (\mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Destroys a message, freeing its space. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__uart__protocol_ga5f455eb88a92b234368bc2d77c295f6a}{uart\+\_\+send\+\_\+message}} (uint8\+\_\+t type, uint8\+\_\+t size, uint8\+\_\+t $\ast$bytes)
\begin{DoxyCompactList}\small\item\em Sends a message through the U\+A\+RT. Format\+: Byte 0 -\/ 137 Byte 1 -\/ \mbox{[}size (4) -\/ id (4)\mbox{]} Bytes 2\+:n-\/1 -\/ Content Byte n -\/ 138. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__uart__protocol_ga135e4c7043b1c4cd01caa52830b459de}{uart\+\_\+send\+\_\+empty\+\_\+msg}} (uint8\+\_\+t id)
\begin{DoxyCompactList}\small\item\em Sends a message of size 0. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__uart__protocol_gaf24bc3ddb7d648a8a12a221c7a2e75af}{uart\+\_\+assemble\+\_\+received\+\_\+message}} (uint8\+\_\+t byte, \mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}} $\ast$msg\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em Reads a received byte and starts to compose a message. Should be called every time a byte is received. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}} $\ast$ \mbox{\hyperlink{group__uart__protocol_gad448b41c7ab4a7e6ee93351e1475f829}{get\+\_\+msg\+\_\+by\+\_\+id}} (uint8\+\_\+t id, \mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}} messages\mbox{[}$\,$\mbox{]}, uint16\+\_\+t num\+\_\+messages)
\begin{DoxyCompactList}\small\item\em Gets a message from a message array. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{group__uart__protocol_ga6394755586b0b959fe069b16b85c749b}{U\+A\+R\+T\+Message\+::size}}
\begin{DoxyCompactList}\small\item\em Message size. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group__uart__protocol_ga5249b6396f5721526146e662d7afefe4}{U\+A\+R\+T\+Message\+::type}}
\begin{DoxyCompactList}\small\item\em Message ID. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group__uart__protocol_gafd3143672ede91e5dc2ec4d1b95f191b}{U\+A\+R\+T\+Message\+::bytes}} \mbox{[}20\mbox{]}
\begin{DoxyCompactList}\small\item\em Message content. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions and constants used to create and send messages through a defined protocol. 

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__uart__protocol_ga155260c75bcf6f1b9ff00fac4ad1cc48}\label{group__uart__protocol_ga155260c75bcf6f1b9ff00fac4ad1cc48}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!M\+S\+G\+\_\+\+P\+R\+E\+F\+IX@{M\+S\+G\+\_\+\+P\+R\+E\+F\+IX}}
\index{M\+S\+G\+\_\+\+P\+R\+E\+F\+IX@{M\+S\+G\+\_\+\+P\+R\+E\+F\+IX}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{M\+S\+G\+\_\+\+P\+R\+E\+F\+IX}{MSG\_PREFIX}}
{\footnotesize\ttfamily \#define M\+S\+G\+\_\+\+P\+R\+E\+F\+IX~137}

\mbox{\Hypertarget{group__uart__protocol_ga115462df9e5caa853c7d8f33f89cbba6}\label{group__uart__protocol_ga115462df9e5caa853c7d8f33f89cbba6}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!M\+S\+G\+\_\+\+T\+R\+A\+I\+L\+ER@{M\+S\+G\+\_\+\+T\+R\+A\+I\+L\+ER}}
\index{M\+S\+G\+\_\+\+T\+R\+A\+I\+L\+ER@{M\+S\+G\+\_\+\+T\+R\+A\+I\+L\+ER}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{M\+S\+G\+\_\+\+T\+R\+A\+I\+L\+ER}{MSG\_TRAILER}}
{\footnotesize\ttfamily \#define M\+S\+G\+\_\+\+T\+R\+A\+I\+L\+ER~138}



\subsection{Function Documentation}
\mbox{\Hypertarget{group__uart__protocol_ga86ef94bd59a3b296a7c80badb2bea00a}\label{group__uart__protocol_ga86ef94bd59a3b296a7c80badb2bea00a}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!create\+\_\+message@{create\+\_\+message}}
\index{create\+\_\+message@{create\+\_\+message}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{create\+\_\+message()}{create\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}}$\ast$ create\+\_\+message (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{size,  }\item[{uint8\+\_\+t}]{type,  }\item[{uint8\+\_\+t $\ast$}]{bytes }\end{DoxyParamCaption})}



Creates a message object. 


\begin{DoxyParams}{Parameters}
{\em size} & Message size \\
\hline
{\em type} & Message ID \\
\hline
{\em bytes} & Message content \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
U\+A\+R\+T\+Message$\ast$ Returns created the message 
\end{DoxyReturn}
\mbox{\Hypertarget{group__uart__protocol_ga8bef6ea297e99b49a0dc05fc16f1a8f5}\label{group__uart__protocol_ga8bef6ea297e99b49a0dc05fc16f1a8f5}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!destroy\+\_\+message@{destroy\+\_\+message}}
\index{destroy\+\_\+message@{destroy\+\_\+message}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{destroy\+\_\+message()}{destroy\_message()}}
{\footnotesize\ttfamily void destroy\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}} $\ast$}]{msg }\end{DoxyParamCaption})}



Destroys a message, freeing its space. 


\begin{DoxyParams}{Parameters}
{\em msg} & Msg to be destroyed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__uart__protocol_gad448b41c7ab4a7e6ee93351e1475f829}\label{group__uart__protocol_gad448b41c7ab4a7e6ee93351e1475f829}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!get\+\_\+msg\+\_\+by\+\_\+id@{get\+\_\+msg\+\_\+by\+\_\+id}}
\index{get\+\_\+msg\+\_\+by\+\_\+id@{get\+\_\+msg\+\_\+by\+\_\+id}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{get\+\_\+msg\+\_\+by\+\_\+id()}{get\_msg\_by\_id()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}}$\ast$ get\+\_\+msg\+\_\+by\+\_\+id (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{id,  }\item[{\mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}}}]{messages\mbox{[}$\,$\mbox{]},  }\item[{uint16\+\_\+t}]{num\+\_\+messages }\end{DoxyParamCaption})}



Gets a message from a message array. 


\begin{DoxyParams}{Parameters}
{\em id} & Message id \\
\hline
{\em messages} & Array \\
\hline
{\em num\+\_\+messages} & Number of messages \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
U\+A\+R\+T\+Message$\ast$ Pointer to first message with the specified ID. N\+U\+LL if none exist. 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__uart__protocol_gad448b41c7ab4a7e6ee93351e1475f829_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__uart__protocol_gaf24bc3ddb7d648a8a12a221c7a2e75af}\label{group__uart__protocol_gaf24bc3ddb7d648a8a12a221c7a2e75af}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!uart\+\_\+assemble\+\_\+received\+\_\+message@{uart\+\_\+assemble\+\_\+received\+\_\+message}}
\index{uart\+\_\+assemble\+\_\+received\+\_\+message@{uart\+\_\+assemble\+\_\+received\+\_\+message}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{uart\+\_\+assemble\+\_\+received\+\_\+message()}{uart\_assemble\_received\_message()}}
{\footnotesize\ttfamily bool uart\+\_\+assemble\+\_\+received\+\_\+message (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{byte,  }\item[{\mbox{\hyperlink{struct_u_a_r_t_message}{U\+A\+R\+T\+Message}} $\ast$}]{msg\+\_\+ptr }\end{DoxyParamCaption})}



Reads a received byte and starts to compose a message. Should be called every time a byte is received. 


\begin{DoxyParams}{Parameters}
{\em byte} & Byte to proccess \\
\hline
{\em msg\+\_\+ptr} & Address which will return the message, when it\textquotesingle{}s fully assembled \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true The message was fully processed 

false The message was not fully processed 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__uart__protocol_gaf24bc3ddb7d648a8a12a221c7a2e75af_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__uart__protocol_ga135e4c7043b1c4cd01caa52830b459de}\label{group__uart__protocol_ga135e4c7043b1c4cd01caa52830b459de}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!uart\+\_\+send\+\_\+empty\+\_\+msg@{uart\+\_\+send\+\_\+empty\+\_\+msg}}
\index{uart\+\_\+send\+\_\+empty\+\_\+msg@{uart\+\_\+send\+\_\+empty\+\_\+msg}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{uart\+\_\+send\+\_\+empty\+\_\+msg()}{uart\_send\_empty\_msg()}}
{\footnotesize\ttfamily void uart\+\_\+send\+\_\+empty\+\_\+msg (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{id }\end{DoxyParamCaption})}



Sends a message of size 0. 


\begin{DoxyParams}{Parameters}
{\em id} & Id of the message. \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__uart__protocol_ga135e4c7043b1c4cd01caa52830b459de_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__uart__protocol_ga135e4c7043b1c4cd01caa52830b459de_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__uart__protocol_ga5f455eb88a92b234368bc2d77c295f6a}\label{group__uart__protocol_ga5f455eb88a92b234368bc2d77c295f6a}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!uart\+\_\+send\+\_\+message@{uart\+\_\+send\+\_\+message}}
\index{uart\+\_\+send\+\_\+message@{uart\+\_\+send\+\_\+message}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{uart\+\_\+send\+\_\+message()}{uart\_send\_message()}}
{\footnotesize\ttfamily void uart\+\_\+send\+\_\+message (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{type,  }\item[{uint8\+\_\+t}]{size,  }\item[{uint8\+\_\+t $\ast$}]{bytes }\end{DoxyParamCaption})}



Sends a message through the U\+A\+RT. Format\+: Byte 0 -\/ 137 Byte 1 -\/ \mbox{[}size (4) -\/ id (4)\mbox{]} Bytes 2\+:n-\/1 -\/ Content Byte n -\/ 138. 


\begin{DoxyParams}{Parameters}
{\em type} & Message type \\
\hline
{\em size} & Size of the bytes array. \\
\hline
{\em bytes} & Message content. \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__uart__protocol_ga5f455eb88a92b234368bc2d77c295f6a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__uart__protocol_ga5f455eb88a92b234368bc2d77c295f6a_icgraph}
\end{center}
\end{figure}


\subsection{Variable Documentation}
\mbox{\Hypertarget{group__uart__protocol_gafd3143672ede91e5dc2ec4d1b95f191b}\label{group__uart__protocol_gafd3143672ede91e5dc2ec4d1b95f191b}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!bytes@{bytes}}
\index{bytes@{bytes}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{bytes}{bytes}}
{\footnotesize\ttfamily uint8\+\_\+t U\+A\+R\+T\+Message\+::bytes\mbox{[}20\mbox{]}}



Message content. 

\mbox{\Hypertarget{group__uart__protocol_ga6394755586b0b959fe069b16b85c749b}\label{group__uart__protocol_ga6394755586b0b959fe069b16b85c749b}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!size@{size}}
\index{size@{size}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{size}{size}}
{\footnotesize\ttfamily uint8\+\_\+t U\+A\+R\+T\+Message\+::size}



Message size. 

\mbox{\Hypertarget{group__uart__protocol_ga5249b6396f5721526146e662d7afefe4}\label{group__uart__protocol_ga5249b6396f5721526146e662d7afefe4}} 
\index{uart\+\_\+protocol@{uart\+\_\+protocol}!type@{type}}
\index{type@{type}!uart\+\_\+protocol@{uart\+\_\+protocol}}
\subsubsection{\texorpdfstring{type}{type}}
{\footnotesize\ttfamily uint8\+\_\+t U\+A\+R\+T\+Message\+::type}



Message ID. 

